Thread B waiting for R
Thread B acquired R
Thread B released R
Thread A waiting for R
Thread A acquired R
Thread B waiting for S
Thread B acquired S
Thread B waiting for R
Thread A waiting for S

Process finished with exit code 130